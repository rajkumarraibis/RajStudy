# Holidu Real-Time Booking Pipeline (Demo)

This repo demonstrates a simplified version of a **real-time booking pipeline**.

## Flow
1. A `booking_confirmed` event is generated by frontend → lands in Bronze (S3).
2. Spark Structured Streaming (EMR Serverless) processes Bronze → Silver (dedupe, GDPR consent, DQ checks).
3. Another Spark job aggregates Silver → Gold (minute-level aggregates).
4. Iceberg tables provide ACID + schema evolution on S3.
5. Athena queries and Redshift Spectrum external tables use the same Iceberg data.
6. Airflow DAG handles compaction, DQ reports, and GDPR deletes.

## Structure
- `events/` → sample JSON payloads
- `schemas/` → JSON Schema for validation
- `spark/jobs/` → PySpark streaming jobs (Bronze→Silver, Silver→Gold)
- `sql/` → Athena + Redshift queries
- `airflow/dags/` → example Airflow DAG

## Run
These are **illustrative** code samples; not production-ready.
Deploy on EMR Serverless / MWAA with correct IAM + Glue Catalog configs.
